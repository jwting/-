webpackJsonp([9],{H1LV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"Matching",components:{Action_tit:a("mMS5").a},data:function(){return{repData:{rows:20,pageNumber:1,userId:""},resData:{status:"-1",countSum:200,data:[]}}},methods:{handleSizeChange:function(t){this.repData.rows=t,this.getHistorcal()},handleCurrentChange:function(t){this.repData.pageNumber=t,this.getHistorcal()},selectStrategy:function(t,e,a){a>=1?this.$router.push({name:"mdetails",params:{value:t+"&"+e+"&"+a}}):null==a?this.$message.error("正在匹配中！"):0===a&&this.$message.error("无可查看数据，请上传合理样本！")},quitStrategy:function(){},delectStrategy:function(t,e){var a=this,s=this;this.$confirm("此操作将永久删除该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios({method:"get",url:a.host+"clue/delMatch?id="+t}).then(function(t){200==t.data.status?(s.$message({type:"success",message:"删除成功!"}),s.resData.data.splice(e,1)):400==t.data.status&&s.$message.error("删除失败！")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getHistorcal:function(){var t=this,e=t.repData,a="clue/queryAllMatch?userId="+e.userId+"&pageNumber="+e.pageNumber+"&rows="+e.rows;t.axios({method:"get",url:t.host+a}).then(function(e){t.resData=e.data})}},created:function(){this.repData.userId=window.localStorage.id,this.getHistorcal()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action_child"},[a("action_tit",{attrs:{title:"匹配结果"}}),t._v(" "),a("el-row",{staticClass:"tit-row"},[a("el-col",{attrs:{span:3}},[a("div",[t._v("日期")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"center"},[t._v("文件名")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"center"},[t._v("运行时长")])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"center"},[t._v("结果数")])]),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:6}},[a("div",[t._v("操作")])])],1),t._v(" "),t._l(t.resData.data,function(e,s){return a("el-row",{staticClass:"act-row"},[a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.timestampToTime(e.createTime)))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"center"},[t._v(t._s(e.fileName))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"center"},[t._v("\n      "+t._s(0==e.status?"正在匹配中":e.runTime+"s")),a("i",{class:0==e.status?"el-icon-loading":""})])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"center"},[t._v(t._s(e.resultNumber?e.resultNumber:"/"))])]),t._v(" "),a("el-col",{staticClass:"right",attrs:{span:6}},[a("div",[a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.delectStrategy(e.id,s)}}},[t._v("删除或取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.selectStrategy(e.id,e.fileName,e.resultNumber)}}},[t._v("查看结果")])],1)])],1)}),t._v(" "),a("div",[t.resData.countSum>10?a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"20px"},attrs:{background:!0,"page-sizes":[10,20,50,100],"page-size":20,"pager-count":7,layout:"total, sizes, prev, pager, next, jumper",total:t.resData.countSum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],2)},staticRenderFns:[]};var n=a("VU/8")(s,r,!1,function(t){a("UTiC")},"data-v-8579432e",null);e.default=n.exports},UTiC:function(t,e){}});