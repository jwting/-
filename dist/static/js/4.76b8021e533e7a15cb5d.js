webpackJsonp([4],{SIOL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("pFYg"),s=i.n(a),l=i("mvHQ"),r=i.n(l),n=i("BO1k"),o=i.n(n),c=i("mMS5"),d={name:"progressBar",props:["isDisplay"],data:function(){return{toSelectNumber:0,selectNumberInterval:null,proDisplay:!1}},watch:{isDisplay:function(t){t?(this.proDisplay=t,this.setSelectNumberInterval()):this.destructionInterval()}},methods:{setSelectNumberInterval:function(){var t=this;t.toSelectNumber=0;var e=0;t.selectNumberInterval=setInterval(function(){var i=0;t.toSelectNumber<=60?i=Math.random()/2:t.toSelectNumber>60&&t.toSelectNumber<=90?(i=Math.random(),i/=10):t.toSelectNumber>90&&t.toSelectNumber<95?++e>20&&(i=Math.random(),i/=15):t.toSelectNumber>95&&t.toSelectNumber<98.5&&(i=Math.random(),i/=30);var a=t.toSelectNumber;a+=i,a=parseFloat(a).toFixed(2),(a=parseFloat(a))>=100&&(a=100),t.toSelectNumber=a},500)},destructionInterval:function(){var t=this;clearInterval(t.selectNumberInterval);var e=0;t.selectNumberInterval=setInterval(function(){if(0==e){var i=(100-t.toSelectNumber)/2,a=t.toSelectNumber+i;t.toSelectNumber=parseFloat(parseFloat(a).toFixed(2)),e++}else 1==e?(t.toSelectNumber=100,e++):(t.proDisplay=!1,t.$emit("closeChange",this.proDisplay),t.toSelectNumber=0,clearInterval(t.selectNumberInterval))},300)}},created:function(){this.setSelectNumberInterval()}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.proDisplay?i("div",{staticClass:"app"},[i("el-progress",{attrs:{"text-inside":!0,"stroke-width":12,percentage:t.toSelectNumber}}),t._v(" "),i("div",{staticClass:"tips"},[i("span",{class:t.toSelectNumber<100?"el-icon-loading":"el-icon-success",style:t.toSelectNumber<100?"":"color:#67C23A;"}),t._v(" "),i("span",{staticClass:"color"},[t._v(t._s(100==t.toSelectNumber?"  加载成功":"  加载中 请稍后"))])])],1):t._e()])},staticRenderFns:[]};var p=i("VU/8")(d,u,!1,function(t){i("hFeY")},"data-v-756a421a",null).exports,h={name:"screening",components:{Action_tit:c.a,progressBar:p},data:function(){return{progress:!1,isPopup:!1,toSelectNumber:0,isSelectAll:!1,selectAll:"",dialogSelect:!1,isbtn:!1,lodText:"滑动滚轮查看更多",islod:!1,conditionData:{},arr:[],provincesOptions:[],provinces:"",props:{value:"provinceName",children:"citys",label:"provinceName"},isNumberLogic:[{value:">",label:">"},{value:"<",label:"<"},{value:">=",label:">="},{value:"<=",label:"<="},{value:"=",label:"="},{value:"!=",label:"不等于"},{value:"and",label:"介于"}],options:[{value:"2",label:"符合其中一个"},{value:"1",label:"符合所有"}],isNumberOption:[{value:"1",label:"符合所有"},{value:"2",label:"符合其中一个"}],isTextOption:[{value:"1",label:"符合所有"},{value:"2",label:"符合其中一个"},{value:"3",label:"符合全部才排除"},{value:"4",label:"符合一个就排除"}],isfOption:[{value:"1",label:"是"},{value:"0",label:"否"}],conditions:[],countSum:1e4,resData:{},selectDate:{},checked:!1,dialogVisible:!1,loading:!1,queryFieldName:"",k:"",queryIsString:"",isNumber:{k:"",i:"",unit:"",logic:"",number:"",maxNumber:"",isti:!1,tiText:""},visible2:!1,isfilde:"",isPlac:!0,isTrue:!0,isFalse:!1,textArr:["信息","科技"],tiArr:[!1,!1,!1],command:"",data:{isDistinct:0,logicValue:"1",userId:"用户ID",strategyName:"",pageNumber:"1",rows:"20",queryField:[],hId:""},seeEnterprise:{lists:[],userId:"",type:0,hId:"",isDistinct:0,isTrue:0},exportlist:{lists:[],hId:"",isDistinct:0,userId:1,isTrue:0,type:3},selectNumberInterval:"",isErr:""}},computed:{isClueAll:function(){return 0==this.data.isDistinct?"过滤已被加入的线索":"查看全部线索"}},methods:{handleClickClueAll:function(){var t=0==this.data.isDistinct?1:0;this.data.isDistinct=t,this.data.hId=window.localStorage.hId,this.pushClueSubmit()},searchClose:function(){this.$message({type:"success",message:"百邑为您筛选出: "+this.resData.countSum+"条数据"})},handleCloseChange:function(){this.isPopup&&!this.isErr&&(this.dialogSelect=!0)},clearList:function(){var t=this;this.$confirm("是否清空筛选列表","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.data.queryField=[],t.forField()}).catch(function(){})},handleItemChange:function(t){},push:function(){this.$router.push({name:"Historical",params:{value:"0"}})},getSelect:function(){var t=this;if(this.dialogSelect=!1,this.isPopup=!1,1==t.command)this.progress=!0,t.seeEnterprise.hId=window.localStorage.hId,t.seeEnterprise.isDistinct=this.data.isDistinct,t.seeEnterprise.isTrue=1,t.selectAll="查看选中",t.axios({method:"post",url:t.host+"companyInfo/showCompanyPhone",data:t.seeEnterprise}).then(function(e){t.isRespons(e.data.status,!1,e.data.data),t.$message({type:"success",message:e.data.msg})}).catch(function(e){t.selectAll="",t.progress=!1,t.isSelectAll=!1,t.$message.error("请求错误")});else if(2==t.command)this.progress=!0,t.exportlist.isTrue=1,t.exportlist.isDistinct=this.data.isDistinct,t.exportlist.hId=window.localStorage.hId,t.selectAll="导出选中",t.axios({method:"post",url:t.host+"companyInfo/exportCompanyInfo",data:t.exportlist}).then(function(e){t.isRespons(e.data.status,!1,e.data.data),t.urlDownload(e.data.data.FileUrl),t.$message({type:"success",message:e.data.msg})}).catch(function(e){t.selectAll="",t.progress=!1,t.isSelectAll=!1,t.$message.error("请求错误")});else if(4==t.command){this.progress=!0;var e=t.getUpdataId(t.resData.data,"ids");t.selectAll="导出全部",t.axios({method:"post",url:t.host+"companyInfo/exportAllCompanyInfo",data:{query:t.conditionData,isTrue:1,ids:e,type:3}}).then(function(e){t.isRespons(e.data.status,!1,e.data.data),t.urlDownload(e.data.data.FileUrl),t.$message({type:"success",message:e.data.msg})}).catch(function(e){t.selectAll="",t.progress=!1,t.isSelectAll=!1,t.$message.error("请求错误")})}else if(3==t.command){this.progress=!0;e=t.getUpdataId(t.resData.data,"ids");t.selectAll="查看全部",t.axios({method:"post",url:t.host+"companyInfo/showCompanyAllPhone",data:{query:t.conditionData,isTrue:1,ids:e,type:1}}).then(function(e){t.isRespons(e.data.status,!1,e.data.data),t.$message({type:"success",message:e.data.msg})}).catch(function(e){t.selectAll="",t.progress=!1,t.isSelectAll=!1,t.$message.error("请求错误")})}},LackOfIntegral:function(t){},isRespons:function(t,e,i){200==t?(this.isErr=!1,this.selectAll=""):405!=t||e?(this.isErr=!0,this.selectAll="",this.$message.error("请求错误")):(this.isErr=!0,this.selectAll="",this.$confirm("积分不足，请联系客服充值","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})),this.progress=!1},handleCommand:function(t){var e=this;if(e.command=t,this.isPopup=!0,1==t){if(e.seeEnterprise.lists=e.getUpdataId(e.resData.data,"lists"),0==this.seeEnterprise.lists.length)return void e.$message({type:"warning",message:"请选择需查看企业"});e.seeEnterprise.hId=window.localStorage.hId,e.seeEnterprise.isDistinct=this.data.isDistinct,e.seeEnterprise.isTrue=0,e.selectAll="查看选中",this.progress=!0,e.axios({method:"post",url:e.host+"companyInfo/showCompanyPhone",data:e.seeEnterprise}).then(function(t){e.isRespons(t.data.status,!0),e.selectDate=t.data.data.Consumption}).catch(function(t){e.progress=!1,e.selectAll="",e.isSelectAll=!1,e.$message.error("请求错误")})}else if(2==t){if(e.exportlist.hId=window.localStorage.hId,e.exportlist.isDistinct=this.data.isDistinct,e.exportlist.lists=e.getUpdataId(e.resData.data,"lists"),e.exportlist.isTrue=0,0==e.exportlist.lists.length)return void e.$message({type:"warning",message:"请选择需导出的企业"});e.selectAll="导出选中",this.progress=!0,e.axios({method:"post",url:e.host+"companyInfo/exportCompanyInfo",data:e.exportlist}).then(function(t){e.isRespons(t.data.status,!0),e.selectDate=t.data.data.Consumption}).catch(function(t){e.selectAll="",e.isSelectAll=!1,e.progress=!1,e.$message.error("请求错误")})}else if(4==t){if(!(i=e.getUpdataId(e.resData.data,"ids")))return void e.$message({type:"warning",message:"无线索！"});e.selectAll="导出全部",this.progress=!0,e.axios({method:"post",url:e.host+"companyInfo/exportAllCompanyInfo",data:{query:e.conditionData,ids:i,isTrue:0}}).then(function(t){e.isRespons(t.data.status,!0),e.selectDate=t.data.data.Consumption}).catch(function(t){e.selectAll="",e.progress=!1,e.isSelectAll=!1,e.$message.error("请求错误")})}else if(3==t){var i;if(!(i=e.getUpdataId(e.resData.data,"ids")))return void e.$message({type:"warning",message:"无线索！"});e.selectAll="查看全部",this.progress=!0,e.axios({method:"post",url:e.host+"companyInfo/showCompanyAllPhone",data:{query:e.conditionData,isTrue:0,ids:i,type:0}}).then(function(t){e.isRespons(t.data.status,!0),e.selectDate=t.data.data.Consumption}).catch(function(t){e.selectAll="",e.isSelectAll=!1,e.progress=!1,e.$message.error("请求错误")})}},exportHandleCommand:function(){},reChange:function(t){},pubilkChange:function(t){var e=!0,i=!1,a=void 0;try{for(var s,l=o()(this.resData.data);!(e=(s=l.next()).done);e=!0){s.value.is=t}}catch(t){i=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw a}}},pushSubmit:function(){var t=0;this.tiArr=[!1,!1,!1],""==this.data.logicValue&&(this.tiArr[0]=!0,t++),0==this.data.queryField.length&&(this.tiArr[1]=!0,t++),""==this.data.strategyName&&(this.tiArr[2]=!0,t++);var e=!0,i=!1,a=void 0;try{for(var s,l=o()(this.data.queryField);!(e=(s=l.next()).done);e=!0){if((N=s.value).ischild=!1,""!=N.fieldLogic&&""!=N.field||4==N.type||3==N.type){if(3!=N.type&&4!=N.type){var n=N.conditions.split(","),c=!0,d=!1,u=void 0;try{for(var p,h=o()(n);!(c=(p=h.next()).done);c=!0){if(""==p.value){N.ischild=!0,t++;break}}}catch(t){d=!0,u=t}finally{try{!c&&h.return&&h.return()}finally{if(d)throw u}}}}else N.ischild=!0,t++;4==N.type&&0==N.conditions.length&&(N.ischild=!0,t++)}}catch(t){i=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw a}}if(!(t>0)){this.isbtn=!0;var m=this;window.localStorage.hId="",m.data.hId="",m.data.isDistinct=0;var v=r()(m.data);m.conditionData=JSON.parse(v);var y=!0,f=!1,g=void 0;try{for(var b,_=o()(m.conditionData.queryField);!(y=(b=_.next()).done);y=!0){var N;if(4==(N=b.value).type){var x=N.conditions.toString();x="["+x+"]",N.conditions=x,N.fieldLogic="1"}}}catch(t){f=!0,g=t}finally{try{!y&&_.return&&_.return()}finally{if(f)throw g}}m.axios({method:"post",url:m.host+"historyStrategy/queryCompanyInfos",data:m.conditionData}).then(function(t){m.isbtn=!1,console.log(t.data.msg),m.resData=t.data,window.localStorage.hId=t.data.msg,m.resData.data.length>=m.resData.countSum&&(m.lodText="暂无更多")}).catch(function(t){m.isbtn=!1})}},pushClueSubmit:function(){var t=0;this.tiArr=[!1,!1,!1],""==this.data.logicValue&&(this.tiArr[0]=!0,t++),0==this.data.queryField.length&&(this.tiArr[1]=!0,t++),""==this.data.strategyName&&(this.tiArr[2]=!0,t++);var e=!0,i=!1,a=void 0;try{for(var s,l=o()(this.data.queryField);!(e=(s=l.next()).done);e=!0){if((N=s.value).ischild=!1,""!=N.fieldLogic&&""!=N.field||4==N.type||3==N.type){if(3!=N.type&&4!=N.type){var n=N.conditions.split(","),c=!0,d=!1,u=void 0;try{for(var p,h=o()(n);!(c=(p=h.next()).done);c=!0){if(""==p.value){N.ischild=!0,t++;break}}}catch(t){d=!0,u=t}finally{try{!c&&h.return&&h.return()}finally{if(d)throw u}}}}else N.ischild=!0,t++;4==N.type&&0==N.conditions.length&&(N.ischild=!0,t++)}}catch(t){i=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw a}}if(!(t>0)){this.isbtn=!0;var m=this,v=r()(m.data);m.conditionData=JSON.parse(v);var y=!0,f=!1,g=void 0;try{for(var b,_=o()(m.conditionData.queryField);!(y=(b=_.next()).done);y=!0){var N;if(4==(N=b.value).type){var x=N.conditions.toString();x="["+x+"]",N.conditions=x,N.fieldLogic="1"}}}catch(t){f=!0,g=t}finally{try{!y&&_.return&&_.return()}finally{if(f)throw g}}m.axios({method:"post",url:m.host+"historyStrategy/queryCompanyInfos",data:m.conditionData}).then(function(t){m.isbtn=!1,console.log(t.data.msg),m.resData=t.data,window.localStorage.hId=t.data.msg,m.resData.data.length>=m.resData.countSum&&(m.lodText="暂无更多")}).catch(function(t){m.isbtn=!1})}},isValue:function(){var t=!0,e=!1,i=void 0;try{for(var a,s=o()(this.data.queryField);!(t=(a=s.next()).done);t=!0){var l=a.value;if(l.isFile=!1,2==l.type&&1==l.fieldLogic&&""!=l.conditions){var r=l.conditions.split(","),n=0,c=!0,d=!1,u=void 0;try{for(var p,h=o()(r);!(c=(p=h.next()).done);c=!0){var m=p.value;"="==this.toStringisNumber(m).logic&&n++}}catch(t){d=!0,u=t}finally{try{!c&&h.return&&h.return()}finally{if(d)throw u}}if(n>=2){l.isFile=!0;continue}}}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}},numberChange:function(){this.isValue()},stringPush:function(){var t=this.data.queryField[this.isNumber.k].conditions.split(",");"and"!=this.isNumber.logic?t[this.isNumber.i]=this.isNumber.logic+this.isNumber.number:t[this.isNumber.i]=this.isNumber.number+this.isNumber.logic+this.isNumber.maxNumber,this.data.queryField[this.isNumber.k].conditions=t.toString(),this.isValue()},preservation:function(){return""==this.isNumber.number||"and"==this.isNumber.logic&&""==this.isNumber.maxNumber?(this.isNumber.isti=!0,void(this.isNumber.tiText="提示：您还未输入条件")):isNaN(Number(this.isNumber.number))||"and"==this.isNumber.logic&&isNaN(Number(this.isNumber.maxNumber))?(this.isNumber.isti=!0,void(this.isNumber.tiText="提示：范围值必须为数字")):"and"==this.isNumber.logic&&Number(this.isNumber.number)>Number(this.isNumber.maxNumber)?(this.isNumber.isti=!0,void(this.isNumber.tiText="提示：请输入正确的条件")):(this.stringPush(),void(this.dialogVisible=!1))},toStringisNumber:function(t){var e={logic:"",number:"",maxNumber:""};if(-1!=t.search(/[><!][=>]/))e.logic=t.substr(0,2),e.number=t.substr(2);else if(-1!=t.search(/[><=]/))e.logic=t.substr(0,1),e.number=t.substr(1);else if(-1!=t.search(/and/)){e.logic="and";var i=t.split("and");e.number=i[0],e.maxNumber=i[1]}return e},insertNumber:function(t,e,i){if("input"==i.target.localName){var a=this.data.queryField[t].conditions.split(",")[e],s=this.toStringisNumber(a);this.isNumber={k:"",i:"",unit:"",logic:"",number:"",maxNumber:"",isti:!1,tiText:""},this.isNumber.k=t,this.isNumber.i=e,this.isNumber.logic=s.logic,this.isNumber.number=s.number,this.isNumber.maxNumber=s.maxNumber,this.isNumber.unit=this.data.queryField[t].unit,this.dialogVisible=!0}},handleClose:function(){this.dialogVisible=!1},pushRange:function(t){var e=this,i=this;1==this.data.queryField[t].type?this.$prompt("请输入筛选词","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[^*]/,inputErrorMessage:"筛选词不能为空"}).then(function(a){var s=a.value;""!=i.data.queryField[t].conditions?i.data.queryField[t].conditions+=","+s:i.data.queryField[t].conditions+=s,e.$message({type:"success",message:"已添加搜索词: "+s})}).catch(function(){e.$message({type:"info",message:"取消输入"})}):2==this.data.queryField[t].type&&(i.data.queryField[t].conditions+=",")},deleteTextItem:function(t,e){var i=this.data.queryField[t].conditions.split(",");i.splice(e,1),this.data.queryField[t].conditions=i.toString(),this.isValue()},deleteField:function(t){this.data.queryField.splice(t,1),this.forField()},forField:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var s,l=o()(this.data.queryField);!(e=(s=l.next()).done);e=!0){var r=s.value;t.push(r.field)}}catch(t){i=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw a}}this.queryIsString=t.join()},change:function(t){this.data.queryField[t].fieldLogic="1",this.data.queryField[t].conditions="";var e=!0,i=!1,a=void 0;try{for(var s,l=o()(this.conditions);!(e=(s=l.next()).done);e=!0){var r=s.value;if(r.field==this.data.queryField[t].field){this.data.queryField[t].type=r.type,2==r.type?this.data.queryField[t].unit=r.unit:4==r.type?this.data.queryField[t].conditions=[]:3==r.type&&(this.data.queryField[t].conditions="1");break}}}catch(t){i=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw a}}this.forField()},pushQuery:function(){this.conditions.length<=this.data.queryField.length?this.$alert("当前最多能添加"+this.conditions.length+"个字段","温馨提示！",{confirmButtonText:"确定"}):(this.isPlac=!0,this.data.queryField.push({field:"",fieldLogic:"1",type:"",conditions:"",unit:""}))}},created:function(){this.provincesOptions=this.region;var t=this.$route.params.value;"object"==(void 0===t?"undefined":s()(t))&&(this.data.queryField=t.condition,this.data.logicValue=t.logicValue,this.data.strategyName=t.strategyName,this.forField());var e=this;window.onmousewheel=function(){if(-1!=e.$route.path.indexOf("screening")&&!e.selectAll){var t=Number(window.getComputedStyle(document.documentElement).height.replace("px",""));if(document.body.scrollTop)var i=document.body.scrollTop;else i=document.documentElement.scrollTop;if(t==i+document.documentElement.clientHeight){var a=Number(e.conditionData.pageNumber);Math.ceil(e.resData.countSum/20)>a&&0==e.islod&&(a++,e.conditionData.pageNumber=a,e.islod=!0,e.axios({method:"post",url:e.host+"historyStrategy/queryCompanyInfos",data:e.conditionData}).then(function(t){var i=t.data.data;e.resData.data=e.resData.data.concat(i),e.islod=!1,e.resData.data.length>=e.resData.countSum&&(e.lodText="暂无更多")}))}}},e.data.userId=window.localStorage.id,e.seeEnterprise.userId=window.localStorage.id,e.exportlist.userId=window.localStorage.id,e.axios({method:"get",url:e.host+"field/getField"}).then(function(i){if(e.conditions=i.data.data,"object"!=(void 0===t?"undefined":s()(t))){var a=0,l=!0,r=!1,n=void 0;try{for(var c,d=o()(e.conditions);!(l=(c=d.next()).done);l=!0){var u=c.value;a<4&&e.data.queryField.push({field:u.field,fieldLogic:"1",type:u.type,conditions:3==u.type?"1":"",unit:u.unit}),a++}}catch(t){r=!0,n=t}finally{try{!l&&d.return&&d.return()}finally{if(r)throw n}}}e.forField(),e.conditions.push({field:"地区",type:"4",unit:""})})}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"action_child",staticStyle:{background:"none",padding:"0"}},[i("action_tit",{attrs:{title:"规则筛选"}}),t._v(" "),i("div",{staticClass:"childApp",staticStyle:{"margin-bottom":"10px","min-height":"0"}},[i("el-row",{staticClass:"tit"},[i("el-col",{attrs:{span:10}},[i("div",{staticClass:"is-dq el-icon-view"},[i("span",[t._v("当前已选择")]),t._v(" "),i("span",{staticClass:"nub"},[t._v(t._s(t.data.queryField.length))]),t._v(" "),i("span",[t._v("个条件")])])])],1),t._v(" "),i("el-row",{staticClass:"strate row-height",attrs:{gutter:15}},[i("el-col",{staticClass:"x",staticStyle:{"padding-left":"15px"},attrs:{span:3}},[t._v("满足下列：")]),t._v(" "),i("el-col",{attrs:{span:3}},[i("el-select",{staticClass:"input",attrs:{placeholder:"请选择"},model:{value:t.data.logicValue,callback:function(e){t.$set(t.data,"logicValue",e)},expression:"data.logicValue"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-col",{staticClass:"x",attrs:{span:2}},[t._v("   条件")]),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.tiArr[0],expression:"tiArr[0]"}],staticClass:"w",attrs:{title:"请选择字段间逻辑",type:"error",closable:!1,"show-icon":""}})],1)],1),t._v(" "),t._l(t.data.queryField,function(e,a){return i("el-row",{key:a,staticClass:"strate",attrs:{gutter:15}},[i("el-col",{attrs:{span:3,offset:3}},[i("el-select",{attrs:{placeholder:"添加筛选字段"},on:{change:function(e){t.change(a)}},model:{value:t.data.queryField[a].field,callback:function(e){t.$set(t.data.queryField[a],"field",e)},expression:"data.queryField[k].field"}},t._l(t.conditions,function(e){return i("el-option",{key:e.field,attrs:{label:e.field,value:e.field,disabled:-1!=t.queryIsString.indexOf(e.field)}})}))],1),t._v(" "),i("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.data.queryField[a].ischild,expression:"data.queryField[k].ischild"}],staticClass:"field-ti",attrs:{title:"当前字段未填写完整",type:"error",closable:!1,"show-icon":""}}),t._v(" "),i("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.data.queryField[a].isFile,expression:"data.queryField[k].isFile"}],staticClass:"um-field-ti",attrs:{title:"提示！当前范围值搜索到的内容为空",type:"warning",closable:!1,"show-icon":""}}),t._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:""!=t.data.queryField[a].field,expression:"data.queryField[k].field!=''"}],attrs:{span:3}},[3==t.data.queryField[a].type?i("el-select",{attrs:{placeholder:"选择逻辑关系"},model:{value:t.data.queryField[a].conditions,callback:function(e){t.$set(t.data.queryField[a],"conditions",e)},expression:"data.queryField[k].conditions"}},t._l(t.isfOption,function(t){return i("el-option",{key:t.value,staticStyle:{color:"#000"},attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),1==t.data.queryField[a].type?i("el-select",{attrs:{placeholder:"选择逻辑关系"},model:{value:t.data.queryField[a].fieldLogic,callback:function(e){t.$set(t.data.queryField[a],"fieldLogic",e)},expression:"data.queryField[k].fieldLogic"}},t._l(t.isTextOption,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),2==t.data.queryField[a].type?i("el-select",{attrs:{placeholder:"选择逻辑关系"},on:{change:function(e){t.numberChange(a)}},model:{value:t.data.queryField[a].fieldLogic,callback:function(e){t.$set(t.data.queryField[a],"fieldLogic",e)},expression:"data.queryField[k].fieldLogic"}},t._l(t.isNumberOption,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),4==t.data.queryField[a].type?[4==t.data.queryField[a].type?i("el-cascader",{staticStyle:{color:"#000"},attrs:{options:t.provincesOptions,props:t.props},on:{change:function(e){t.handleItemChange(a)}},model:{value:"string"==typeof t.data.queryField[a].conditions?t.arr:t.data.queryField[a].conditions,callback:function(e){t.$set("string"==typeof t.data.queryField[a].conditions?t.arr:t.data.queryField[a],"conditions",e)},expression:"(typeof data.queryField[k].conditions=='string')?arr:data.queryField[k].conditions"}}):t._e()]:t._e()],2),t._v(" "),t._l(1==t.data.queryField[a].type&&""!=t.data.queryField[a].conditions||2==t.data.queryField[a].type?t.data.queryField[a].conditions.split(","):[],function(e,s){return 4!=t.data.queryField[a].type?[i("el-col",{style:t.data.queryField[a].conditions.split(",").length>3?"margin-bottom: 10px":"",attrs:{span:3,offset:1==t.data.queryField[a].type&&(4==s||8==s)||2==t.data.queryField[a].type&&(3==s||6==s)?9:0}},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:1==t.data.queryField[a].type&&""!=e,expression:"data.queryField[k].type==1&&textItem!=''"}],staticClass:"scinput",attrs:{value:e,readonly:!0}},[i("el-button",{staticClass:"delect-close",attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(e){t.deleteTextItem(a,s)}},slot:"append"})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.data.queryField[a].type&&""==e,expression:"data.queryField[k].type==2&&textItem==''"}],on:{click:function(e){t.insertNumber(a,s,e)}}},[i("el-input",{staticClass:"scinput",attrs:{readonly:!0,placeholder:"未选择"}},[i("el-button",{staticClass:"delect-close",attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(e){t.deleteTextItem(a,s)}},slot:"append"})],1)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.data.queryField[a].type&&-1==e.search(/and/)&&""!=e,expression:"data.queryField[k].type==2&&textItem.search(/and/)==-1&&textItem!=''"}],on:{click:function(e){t.insertNumber(a,s,e)}}},[i("el-input",{staticClass:"scinput",attrs:{value:e+t.data.queryField[a].unit,readonly:!0}},[i("el-button",{staticClass:"delect-close",attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(e){t.deleteTextItem(a,s)}},slot:"append"})],1)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.data.queryField[a].type&&-1!=e.search(/and/),expression:"data.queryField[k].type==2&&textItem.search(/and/)!=-1"}],on:{click:function(e){t.insertNumber(a,s,e)}}},[i("el-input",{staticClass:"scinput",attrs:{value:"介于:"+e.split("and")[0]+t.data.queryField[a].unit+"至"+e.split("and")[1]+t.data.queryField[a].unit,readonly:!0,placeholder:"未选择"}},[i("el-button",{staticClass:"delect-close",attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(e){t.deleteTextItem(a,s)}},slot:"append"})],1)],1)],1),t._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:2==t.data.queryField[a].type&&t.data.queryField[a].conditions.split(",").length>1&&s!=t.data.queryField[a].conditions.split(",").length-1,expression:"data.queryField[k].type==2&&data.queryField[k].conditions.split(',').length>1&&textIdenx!=data.queryField[k].conditions.split(',').length-1"}],attrs:{span:1}},[i("el-input",{staticClass:"scinput",attrs:{value:1==t.data.queryField[a].fieldLogic?"且":"或"}})],1)]:t._e()}),t._v(" "),i("el-dialog",{attrs:{title:"添加范围",visible:t.dialogVisible,width:"45%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-row",{staticClass:"push-row",attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"top",attrs:{span:4}},[i("div",[t._v("请输入范围：")])]),t._v(" "),i("el-col",{staticClass:"top",attrs:{span:5}},[i("el-select",{staticStyle:{float:"left"},attrs:{placeholder:"选择条件"},model:{value:t.isNumber.logic,callback:function(e){t.$set(t.isNumber,"logic",e)},expression:"isNumber.logic"}},t._l(t.isNumberLogic,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:"and"!=t.isNumber.logic&&""!=t.isNumber.logic,expression:"isNumber.logic!='and'&&isNumber.logic!=''"}],staticStyle:{float:"left"},model:{value:t.isNumber.number,callback:function(e){t.$set(t.isNumber,"number",e)},expression:"isNumber.number"}},[i("template",{slot:"append"},[t._v(t._s(t.isNumber.unit?t.isNumber.unit:""))])],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"and"==t.isNumber.logic,expression:"isNumber.logic=='and'"}],staticClass:"center"},[i("el-input",{staticStyle:{width:"40%",float:"left"},model:{value:t.isNumber.number,callback:function(e){t.$set(t.isNumber,"number",e)},expression:"isNumber.number"}},[i("template",{slot:"append"},[t._v(t._s(t.isNumber.unit?t.isNumber.unit:""))])],2),t._v(" "),i("span",{staticStyle:{width:"20%",float:"left"}},[t._v("至")]),t._v(" "),i("el-input",{staticStyle:{width:"40%",float:"left"},model:{value:t.isNumber.maxNumber,callback:function(e){t.$set(t.isNumber,"maxNumber",e)},expression:"isNumber.maxNumber"}},[i("template",{slot:"append"},[t._v(t._s(t.isNumber.unit?t.isNumber.unit:""))])],2)],1)],1)],1),t._v(" "),i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isNumber.isti,expression:"isNumber.isti"}],staticClass:"push-row",attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:18}},[i("div",{staticStyle:{color:"#eb0000"}},[t._v(t._s(t.isNumber.tiText))])])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.preservation}},[t._v("确 定")])],1)],1),t._v(" "),4!=t.data.queryField[a].type?i("el-col",{staticClass:"push-range",attrs:{span:1}},[i("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.data.queryField[a].fieldLogic&&3!=t.data.queryField[a].type&&""!=t.data.queryField[a].type&&t.data.queryField[a].conditions.split(",").length<7,expression:"data.queryField[k].fieldLogic!=''&&data.queryField[k].type!=3&&data.queryField[k].type!=''&&data.queryField[k].conditions.split(',').length<7"}],on:{click:function(e){t.pushRange(a)}}},[i("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{color:"#409EFF"}})])]):t._e(),t._v(" "),i("div",{staticClass:"delete-field"},[i("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.data.queryField[a].visible,callback:function(e){t.$set(t.data.queryField[a],"visible",e)},expression:"data.queryField[k].visible"}},[i("p",{staticClass:"el-icon-info",staticStyle:{"margin-bottom":"10px"}},[t._v("是否删除当前字段")]),t._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.data.queryField[a].visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.deleteField(a)}}},[t._v("确定")])],1),t._v(" "),i("div",{attrs:{slot:"reference"},slot:"reference"},[i("i",{staticClass:"el-icon-delete loc",staticStyle:{color:"#F56C6C"}})])])],1)],2)}),t._v(" "),i("el-row",{staticClass:"strate",attrs:{gutter:15}},[i("el-col",{attrs:{span:3,offset:3}},[i("el-button",{staticClass:"btn",attrs:{type:"primary",plain:"",icon:"el-icon-plus"},on:{click:t.pushQuery}},[t._v("添加条件")])],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.tiArr[1],expression:"tiArr[1]"}],staticClass:"w",attrs:{title:"请添加条件",type:"error",closable:!1,"show-icon":""}})],1)],1),t._v(" "),i("el-row",{staticClass:"strate",attrs:{gutter:15}},[i("el-col",{attrs:{span:3}},[i("el-input",{attrs:{placeholder:"策略名称"},model:{value:t.data.strategyName,callback:function(e){t.$set(t.data,"strategyName",e)},expression:"data.strategyName"}})],1),t._v(" "),i("el-col",{attrs:{span:3}},[i("el-button",{staticClass:"btn",attrs:{disabled:t.isbtn,type:"primary",loading:t.isbtn,icon:"el-icon-refresh"},on:{click:t.pushSubmit}},[t._v("开始筛选")])],1),t._v(" "),i("el-col",{attrs:{span:2}},[i("el-button",{staticClass:"btn",attrs:{disabled:t.isbtn,type:"danger",icon:"el-icon-delete"},on:{click:t.clearList}},[t._v("清空列表")])],1),t._v(" "),i("el-col",{attrs:{span:5,offset:1}},[i("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.tiArr[2],expression:"tiArr[2]"}],staticClass:"w",attrs:{title:"请填写策略名称",type:"error",closable:!1,"show-icon":""}})],1),t._v(" "),i("el-button",{staticStyle:{position:"absolute",right:"10px"},on:{click:t.push}},[t._v("历史策略")])],1),t._v(" "),i("progress-bar",{attrs:{"is-display":t.isbtn},on:{closeChange:t.searchClose}})],2),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.dialogSelect,width:"35%"},on:{"update:visible":function(e){t.dialogSelect=e}}},[i("span",[t._v(t._s(t.selectDate))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogSelect=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.getSelect}},[t._v("确 定")])],1)]),t._v(" "),i("div",{staticClass:"childApp",staticStyle:{"padding-bottom":"20px"}},[i("div",{staticClass:"row-btn"},[i("div",{staticClass:"float-left width"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.resData.countSum,expression:"resData.countSum"}],staticClass:"el-icon-success",staticStyle:{color:"#409EFF"}}),t._v(" "),i("span",[t._v(" 百邑为您筛选出")]),t._v(" "),i("span",{staticClass:"red"},[t._v(t._s(t.resData.countSum))]),t._v(" "),i("span",[t._v("条销售线索")]),t._v(" "),i("el-button",{staticClass:"unallocated-cue",attrs:{type:"danger",icon:"fa fa-hourglass-end",size:"mini"},on:{click:t.handleClickClueAll}},[t._v("  "+t._s(t.isClueAll))])],1),t._v(" "),i("div",{staticClass:"float-right width"},[i("el-button",{attrs:{disabled:""!=t.selectAll,loading:"查看选中"==t.selectAll,type:"primary"},on:{click:function(e){t.handleCommand(1)}}},[t._v("选中进入线索池")]),t._v(" "),i("el-button",{attrs:{disabled:""!=t.selectAll,loading:"导出选中"==t.selectAll,plain:"",type:"primary"},on:{click:function(e){t.handleCommand(2)}}},[t._v("导出选中")]),t._v(" "),i("el-button",{attrs:{disabled:""!=t.selectAll,loading:"查看全部"==t.selectAll,type:"primary"},on:{click:function(e){t.handleCommand(3)}}},[t._v("全部进入线索池")]),t._v(" "),i("el-button",{attrs:{disabled:""!=t.selectAll,loading:"导出全部"==t.selectAll,plain:"",type:"primary"},on:{click:function(e){t.handleCommand(4)}}},[t._v("导出全部")])],1)]),t._v(" "),i("el-row",{staticClass:"tit-row"},[i("el-col",{staticClass:"center",attrs:{span:1}},[i("el-checkbox",{attrs:{disabled:!t.resData.data},on:{change:t.pubilkChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1),t._v(" "),i("el-col",{staticClass:"left",attrs:{span:5}},[t._v("企业名称")]),t._v(" "),i("el-col",{staticClass:"center",attrs:{span:4}},[t._v("官网")]),t._v(" "),i("el-col",{staticClass:"center",attrs:{span:5}},[t._v("地址")]),t._v(" "),i("el-col",{staticClass:"center",attrs:{span:6}},[t._v("主营产品")]),t._v(" "),i("el-col",{staticClass:"right pad",attrs:{span:3}},[t._v("注册日期")])],1),t._v(" "),i("progress-bar",{attrs:{"is-display":t.progress},on:{closeChange:t.handleCloseChange}}),t._v(" "),t._l(t.resData.data,function(e){return i("el-row",{key:e.id,staticClass:"act-row"},[i("el-col",{staticClass:"center",attrs:{span:1}},[i("el-checkbox",{on:{change:t.reChange},model:{value:e.is,callback:function(i){t.$set(e,"is",i)},expression:"v.is"}})],1),t._v(" "),i("el-col",{staticClass:"left color",staticStyle:{cursor:"pointer"},attrs:{span:5}},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"hover"}},[i("div",{staticClass:"center pad font-popover"},[t._v("公司名称")]),t._v(" "),i("div",{staticClass:"center pad",staticStyle:{"margin-bottom":"6px"}},[t._v(t._s(e.companyName))]),t._v(" "),i("div",{attrs:{slot:"reference"},slot:"reference"},[i("span",[t._v(t._s(e.companyName))])])])],1),t._v(" "),i("el-col",{staticClass:"center pad",attrs:{span:4}},[i("a",{staticClass:"color",attrs:{href:-1!=e.webSite.toString().indexOf("http")?e.webSite:"http://"+e.webSite,target:"_blank"}},[t._v(t._s(e.webSite?e.webSite:"/"))])]),t._v(" "),i("el-col",{staticClass:"center pad",staticStyle:{cursor:"pointer"},attrs:{span:5}},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"hover"}},[i("div",{staticClass:"center pad font-popover"},[t._v("地址")]),t._v(" "),i("div",{staticClass:"center pad",staticStyle:{"margin-bottom":"6px"}},[t._v(t._s(e.address))]),t._v(" "),i("div",{attrs:{slot:"reference"},slot:"reference"},[i("span",[t._v(t._s(e.address?e.address:" "))])])])],1),t._v(" "),i("el-col",{staticClass:"center pad",staticStyle:{cursor:"pointer"},attrs:{span:6}},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"hover"}},[i("div",{staticClass:"center pad font-popover"},[t._v("主营产品")]),t._v(" "),i("div",{staticClass:"center pad",staticStyle:{"margin-bottom":"6px"}},[t._v(t._s(e.operation))]),t._v(" "),i("div",{attrs:{slot:"reference"},slot:"reference"},[i("span",[t._v(t._s(e.operation?e.operation:" "))])])])],1),t._v(" "),i("el-col",{staticClass:"right pad",attrs:{span:3}},[t._v(t._s(e.createTime))])],1)}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resData.countSum,expression:"resData.countSum"}],staticStyle:{"text-align":"center","margin-top":"20px"}},[i("el-button",{staticStyle:{background:"#fff",border:"none",color:"#7a7a7a"},attrs:{loading:t.islod}},[t._v(t._s(t.islod?"努力加载中":t.lodText))])],1),t._v(" "),t.resData.countSum||t.isbtn?t._e():i("div",{staticStyle:{"text-align":"center","line-height":"50px",height:"50px","margin-top":"60px"}},[i("img",{staticStyle:{width:"50px",height:"50px","vertical-align":"middle"},attrs:{src:"https://shop.bybigdata.com/image/提示.png"}}),t._v(" "),i("span",[t._v("  ")]),t._v(" "),i("span",{staticStyle:{"vertical-align":"middle","font-weight":"600",color:"#b9b9b9"}},[t._v(t._s(0==t.resData.countSum?"请输入合理的筛选条件哦！":"请输入条件筛选哦！"))])])],2)],1)},staticRenderFns:[]};var v=i("VU/8")(h,m,!1,function(t){i("vFji")},null,null);e.default=v.exports},hFeY:function(t,e){},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},qkKv:function(t,e,i){var a=i("FeBl"),s=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},vFji:function(t,e){}});